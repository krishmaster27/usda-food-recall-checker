<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Saved Products</title>
  <link rel="stylesheet" href="sidebar.css">
  <link rel="stylesheet" href="saved-products.css">
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h2>Menu</h2>
    <a href="index.html">Home</a>
    <a href="sign-up.html">Sign Up</a>
    <a href="sign-in.html">Sign In</a>
    <a href="user-profile.html">Profile</a>
    <a href="saved-products.html" class="active">Saved Products</a>
    <a href="expiration-reminders.html">Expiration Reminders</a>
</div>

<!-- Page content -->
<div class="main-content">
  <h1>Saved Products</h1>

  <ul id="productList">
    <li>
      <div class="product-row">
        <span>Apple</span>
        <div class="buttons">
          <button class="show-btn" onclick="toggleRecalls(this)">Show Recalls</button>
          <button class="delete-btn" onclick="deleteProduct(this)">Delete</button>
        </div>
      </div>
      <div class="recalls" style="display:none;">
        <ul>
          <li>
            <strong>DATE:</strong> January 1 2026<br>
            <strong>PRODUCT:</strong> Fresh Pak, Michigan, and Aunt Mid's Packaged Apple Slices<br>
            <strong>REASON:</strong> Recalled due to possible listeria contamination.
          </li>
          <li>
            <strong>DATE:</strong> September 24 2024<br>
            <strong>PRODUCT:</strong> Great Value 100% Apple Juice (8 oz six-packs and other sizes) sold at Walmart.<br>
            <strong>REASON:</strong> Recalled due to elevated levels of inorganic arsenic above FDA guidance levels.
          </li>
          <li>
            <strong>DATE:</strong> August 26 2024<br>
            <strong>PRODUCT:</strong> Various 100% apple juice brands (Nature's Nectar, Nice!, Wellsley Farms, Urban Meadow, Clover Valley, Weis, Market Basket, Solevita)<br>
            <strong>REASON:</strong> Elevated inorganic arsenic levels slightly above FDA guidance.
          </li>
        </ul>
      </div>
    </li>

    <li>
      <div class="product-row">
        <span>Ham</span>
        <div class="buttons">
          <button class="show-btn" onclick="toggleRecalls(this)">Show Recalls</button>
          <button class="delete-btn" onclick="deleteProduct(this)">Delete</button>
        </div>
      </div>
      <div class="recalls" style="display:none;">
        <ul>
          <li>
            <strong>DATE:</strong> January 2 2026<br>
            <strong>PRODUCT:</strong> Various 16-oz sliced ham products including 4x4 Sliced Ham, Champagne Ham Sliced, and Provincial Ham Sliced.<br>
            <strong>REASON:</strong> Recalled due to possible salmonella contamination.
          </li>
          <li>
            <strong>DATE:</strong> July 27 2025<br>
            <strong>PRODUCT:</strong> Reser's Fine Foods Ham Salad (12-oz plastic tubs) and Molly's Kitchen Ham Salad<br>
            <strong>REASON:</strong> Recalled due to possible Listeria monocytogenes contamination.
          </li>
          <li>
            <strong>DATE:</strong> July 30 2024<br>
            <strong>PRODUCT:</strong> Ready-to-eat deli meats including ham products (varieties produced at Boar's Head plant in Jarratt, VA).<br>
            <strong>REASON:</strong> Recalled due to contamination risk with Listeria monocytogenes.
          </li>
        </ul>
      </div>
    </li>
  </ul>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  // --- Redirect if not logged in ---
  const user = JSON.parse(localStorage.getItem("loggedInUser"));
  if (!user) {
    alert("Please sign in to view saved products.");
    window.location.href = "sign-in.html";
    return; // stop executing the rest
  }

  // --- Product buttons ---
  window.toggleRecalls = function(button) {
    const recallsDiv = button.closest("li").querySelector(".recalls");
    if (recallsDiv.style.display === "block") {
      recallsDiv.style.display = "none";
      button.textContent = "Show Recalls";
    } else {
      recallsDiv.style.display = "block";
      button.textContent = "Hide Recalls";
    }
  }

  window.deleteProduct = function(button) {
    const listItem = button.closest("li");
    listItem.remove();
  }

  // --- Sidebar animation + hamburger ---
  const sidebar = document.querySelector('.sidebar');
  const content = document.querySelector('.main-content');

  setTimeout(() => {
    sidebar.classList.add('active');
    content.classList.add('shifted');
  }, 100);

  const toggleBtn = document.createElement('button');
  toggleBtn.innerHTML = '&#9776;';
  toggleBtn.style.position = 'fixed';
  toggleBtn.style.top = '7px';
  toggleBtn.style.left = '-9px';
  toggleBtn.style.fontSize = '24px';
  toggleBtn.style.background = '#0074D9';
  toggleBtn.style.color = 'white';
  toggleBtn.style.border = 'none';
  toggleBtn.style.borderRadius = '6px';
  toggleBtn.style.padding = '10px 14px';
  toggleBtn.style.cursor = 'pointer';
  toggleBtn.style.zIndex = '1100';
  document.body.appendChild(toggleBtn);

  toggleBtn.addEventListener('click', () => {
    sidebar.classList.toggle('active');
    content.classList.toggle('shifted');
  });
});
</script>

</body>
</html>
